### Look-Aside

* 읽기 작업에 최적화 되어 있다.
* 캐시가 있다면 캐시를 내려주고, 없다면 DB를 조회 후 캐시를 재설정 및 결과로 사용한다.
* 과도한 트래픽 상황 즉 Thundering Herd 상황에 대해서 갑작스런 DB 부하가 몰릴 수 있으니, 캐시 조회 시에 TTL을 확인하여 재할당하거나 다른 방어로직을 추가하자.
    * ex) PER 알고리즘

### PER 알고리즘

* 확률적 조기 갱신을 통해 캐시 데이터의 만료 전에 데이터를 갱신하는 전략
* P = 1 − (remainingTTL / total TTL)

| 남은 TTL (초) (1시간 TTL) | 갱신 확률             |
|----------------------|-------------------|
| 3600                 | 갱신 확률 0%, 바로 갱신 X |
| 1800                 | 갱신 확률 50%         |
| 600                  | 갱신 확률 83%         |
| 60                   | 갱신 확률 98%, 거의 갱신  |

### Write-Back

* Redis를 InMemory DB를 활용하는 대표적인 방법이다.
    * 보통 Cron과 함께 사용이 되고, Bulk로 데이터를 처리할 수 있는 방법이다.
    * Keys보다는 Scan을 주로 활용하여 Redis 부하를 줄이자.

### Write-Through

* 데이터를 DB와 Redis에 모두 저장하는 방법으로 Look-Aside와 가장 많이 사용이 되는 형태이다.

파레토 형태는 절대 무시해서는 안된다. 캐시를 적극적으로 활용하자.