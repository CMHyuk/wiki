## 유튜브 설계

### 문제 이해 및 설계 범위 확정
- 비디오를 올리는 기능과 시청하는 기능이 가장 중요하다.
- 모바일 앱, 웹 브라우저, 스마트 TV를 지원해야 한다.
- 일간 능동 사용자 수는 5백만이다.
- 사용자의 평균 사용 시간은 30분이다.
- 다국어 지원이 필요하다.
- 현존하는 비디오 종류와 해상도를 대부분 지원해야 한다.
- 암호화가 필요하다.
- 비디오 크기는 최대 1GB로 제한한다.
- 아마존, 구글, 마이크로소프트가 제공하는 클라우드 서비스를 활용해도 된다.

**개략적 규모 추정**  
- DAU는 5백만
- 한 사용자는 하루에 평균 5개의 비디오를 시청
- 10%의 사용자가 하루에 1비디오 업로드
- 비디오 평균 크기는 300MB
- 비디오 저장을 위해 매일 새로 요구되는 저장 용량 = 5백만 * 10% * 300MB = 150TB
- CDN 비용
  - 클라우드 CDN을 통해 비디오를 서비스할 경우 데이터의 양에 따라 과금한다.
  - 아마존의 클라우드프론트를 사용할 경우, 100% 트래픽이 미국에서 발생한다고 가정하면 1GB당 $0.02의 요금이 발생한다.
  - 따라서 매일 발생하는 요금은 5백만 * 5비디오 * 0.3GB * $0.02 = $150,000이다.