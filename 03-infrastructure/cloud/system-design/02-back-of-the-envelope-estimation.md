### 개략적인 규모 추정

**2의 제곱수**

* 최소 단위는 1바이트이고, 8비트로 구성된다. ASCII 문자 하나가 차지하는 메모리 크기가 1바이트이다.

**응답 지연 값**

* 메모리는 빠르지만 디스크는 아직도 느리다.
* 디스크 탐색은 가능한 한 피하라.
* 단순한 압축 알고리즘은 빠르다.
* 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라.
* 데이터 센터는 보통 여러 지역에 분산되어 있고, 센터들 간에 데이터를 주고 받는 데는 시간이 걸린다.

| 연산명                            | 시간                    |
|--------------------------------|-----------------------|
| L1 캐시 참조                       | 0.5ns                 |
| 분기 예측 오류                       | 5ns                   |
| L2 캐시 참조                       | 7ns                   |
| 뮤텍스 락/언락                       | 100ns                 |
| 주 메모리 참조                       | 100ns                 |
| Zippy로 1KB 압축                  | 10,000ns = 10us       |
| 1 Gbps 네트워크로 2KB 전송            | 20,000ns = 20us       |
| 메모리에서 1 MB 순차적으로 read          | 250,000ns = 250us     |
| 같은 데이터 센터 내에서의 메시지 왕복 지연시간     | 500,000ns = 500us     |
| 디스크 탐색                         | 10,000,000ns = 10ms   |
| 네트워크에서 1 MB 순차적으로 read         | 10,000,000ns = 10ms   |
| 디스크에서 1 MB 순차적으로 read          | 30,000,000ns = 30ms   |
| 한 패킷의 캘리포니아로부터 네덜란드까지의 왕복 지연시간 | 150,000,000ns = 150ms |

**가용성에 관계된 수치들**

* 고가용성은 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력을 지칭하는 용어다.
* 고가용성을 표현하는 값은 퍼센트로 표현하는데, 100%는 시스템이 단 한 번도 중단된 적이 없었음을 의미한다.
    * 대부분의 서비스는 99 ~ 100% 사이의 값을 갖는다.
* SLA(Service Level Agreement)는 서비스 사업자가 보편적으로 사용하는 용어로, 서비스 사업자와 고객 사이에 맺어진 합의를 의미한다.
    * 아마존, 구글, 마이크로소프트 같은 사업자는 99% 이상의 SLA를 제공한다.

| 가용률      | 하루당 장애시간  | 주당 장애시간   | 개월당 장애시간 | 연간 장애시간 |
|----------|-----------|-----------|----------|---------|
| 99%      | 14.40분    | 1.68시간    | 7.31시간   | 3.65일   |
| 99.9%    | 1.44분     | 10.08분    | 43.83분   | 8.77시간  |
| 99.99%   | 8.64초     | 1.01분     | 4.38분    | 52.60분  |
| 99.999%  | 864.00밀리초 | 6.05초     | 26.30초   | 5.26분   |
| 99.9999% | 86.40밀리초  | 604.80밀리초 | 2.63초    | 31.56초  |

**팁**
* 근사치를 활용한 계산: 면접장에서 복잡한 계산을 하는 것은 어려운 일이다.
  * 예를 들어, "99987 / 9.1"의 계산 결과는 "100,000 / 10"로 간소화할 수 있다.
* 가정을 적어 두라. 나중에 살펴볼 수 있도록.
* 단위를 붙이라. 5라고만 적으면 5KB인지 5MB인지 알 수가 없다.
* 많이 출제되는 개략적 규모 추정 문제는 QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버 수 등을 추정하는 것이다.